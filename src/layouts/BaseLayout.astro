---
import "../styles/global.css";
import Analytics from '@vercel/analytics/astro';
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";

interface Props {
  title?: string;
  description?: string;
  ogImage?: string;
  url?: string;
}

const {
  title = "Chrima - Track Your Subscriptions Easily",
  description = "Chrima helps you manage and track all your subscriptions in one place. Get reminders and never miss a payment again.",
  ogImage = "/images/og-preview.png",
  url = "https://chrima.app",
} = Astro.props;
---

<html lang="en">
  <head>
    <!-- CRITICAL PERFORMANCE RESOURCES - Load First -->
    <link rel="preload" href="/fonts/Sora-Regular.ttf" as="font" type="font/ttf" crossorigin />
    <link rel="preload" href="/fonts/Sora-Bold.ttf" as="font" type="font/ttf" crossorigin />
    <link rel="preload" href="/fonts/Sora-Medium.ttf" as="font" type="font/ttf" crossorigin />
    <link rel="preload" href="/images/home-page.png" as="image" fetchpriority="high" />
    
    <title>{title}</title>
    <meta name="description" content={description} />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="keywords" content="subscription tracker, expense manager, recurring payment tracker, subscription management, personal finance app, bill reminder, budget planner, subscription organizer, monthly expense tracker" />

    <!-- Additional Meta Tags -->
    <meta name="application-name" content="Chrima" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-title" content="Chrima - Subscription Manager" />

    <!-- Resource Hints -->
    <link rel="dns-prefetch" href="//vitals.vercel-analytics.com" />
    <link rel="preconnect" href="https://vitals.vercel-analytics.com" crossorigin />

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="shortcut icon" href="/favicon.ico" />
    <link rel="canonical" href={Astro.url} />

    <!-- PWA -->
    <link rel="manifest" href="/manifest.json" />
    <meta name="theme-color" content="#84CC16" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <meta name="apple-mobile-web-app-title" content="Chrima" />

    <!-- Mobile App -->
    <meta name="apple-itunes-app" content="app-id=YOUR_APP_STORE_ID" />
    <meta name="google-play-app" content="app-id=YOUR_PLAY_STORE_ID" />

    <!-- Open Graph Tags -->
    <meta property="og:site_name" content="Chrima" />
    <meta property="og:locale" content="en_US" />
    <meta property="og:title" content={title} />
    <meta property="og:description" content={description} />
    <meta property="og:image" content={ogImage} />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:url" content={url} />
    <meta property="og:type" content="website" />
    <meta property="og:app:name" content="Chrima" />
    <meta property="og:app:id:iphone" content="YOUR_APP_STORE_ID" />
    <meta property="og:app:id:android" content="YOUR_PLAY_STORE_ID" />
    <meta property="og:app:url:iphone" content="https://apps.apple.com/app/YOUR_APP_STORE_ID" />
    <meta property="og:app:url:android" content="https://play.google.com/store/apps/details?id=YOUR_PLAY_STORE_ID" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:site" content="@ChrimaApp" />
    <meta name="twitter:creator" content="@ChrimaApp" />
    <meta name="twitter:title" content={title} />
    <meta name="twitter:description" content={description} />
    <meta name="twitter:image" content={ogImage} />
    <meta name="twitter:app:name:iphone" content="Chrima" />
    <meta name="twitter:app:id:iphone" content="YOUR_APP_STORE_ID" />
    <meta name="twitter:app:url:iphone" content="https://apps.apple.com/app/YOUR_APP_STORE_ID" />
    <meta name="twitter:app:name:googleplay" content="Chrima" />
    <meta name="twitter:app:id:googleplay" content="YOUR_PLAY_STORE_ID" />
    <meta name="twitter:app:url:googleplay" content="https://play.google.com/store/apps/details?id=YOUR_PLAY_STORE_ID" />

    <!-- Additional SEO Meta Tags -->
    <meta name="author" content="Chrima" />
    <meta name="robots" content="index, follow" />
    <meta name="googlebot" content="index, follow" />
    <meta name="rating" content="safe for kids" />
    <meta name="copyright" content="Chrima" />
    <meta name="coverage" content="Worldwide" />
    <meta name="distribution" content="Global" />
    <meta name="target" content="all" />
    <meta name="HandheldFriendly" content="True" />
    <meta name="application-name" content="Chrima - Subscription Manager" />
    <meta name="category" content="Finance" />

    <!-- Alternative Languages -->
    <link rel="alternate" href="https://chrima.app" hreflang="x-default" />
    <link rel="alternate" href="https://chrima.app" hreflang="en" />

    <!-- JSON-LD Schema -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@graph": [
          {
            "@type": "Organization",
            "@id": "https://chrima.app/#organization",
            "name": "Chrima",
            "url": "https://chrima.app",
            "logo": {
              "@type": "ImageObject",
              "url": "https://chrima.app/images/logo.svg",
              "width": "512",
              "height": "512"
            },
            "description": "Chrima helps you track subscriptions, manage recurring payments, and take control of your personal finances with smart insights and reminders.",
            "sameAs": [
              "https://apps.apple.com/app/YOUR_APP_STORE_ID",
              "https://play.google.com/store/apps/details?id=YOUR_PLAY_STORE_ID"
            ]
          },
          {
            "@type": "WebSite",
            "@id": "https://chrima.app/#website",
            "url": "https://chrima.app",
            "name": "Chrima - Smart Subscription & Expense Tracker",
            "description": "Track all your subscriptions, recurring payments, and expenses in one place. Get smart reminders and insights to save money on your monthly bills.",
            "publisher": {
              "@id": "https://chrima.app/#organization"
            },
            "keywords": [
              "subscription tracker",
              "expense manager",
              "recurring payment tracker",
              "subscription management app",
              "personal finance app",
              "bill reminder",
              "subscription reminder",
              "budget planner",
              "subscription organizer",
              "monthly expense tracker",
              "subscription analytics",
              "subscription cancellation helper",
              "money management app",
              "financial planning tool"
            ]
          },
          {
            "@type": "MobileApplication",
            "name": "Chrima - Subscription & Expense Manager",
            "operatingSystem": "iOS, Android",
            "applicationCategory": "FinanceApplication",
            "offers": {
              "@type": "Offer",
              "price": "0",
              "priceCurrency": "USD"
            },
            "aggregateRating": {
              "@type": "AggregateRating",
              "ratingValue": "4.8",
              "ratingCount": "50000"
            },
            "description": "Take control of your finances with Chrima. Track all your subscriptions and recurring expenses, get smart reminders before payments, analyze spending patterns, and discover opportunities to save money. Features include subscription tracking, bill reminders, expense analytics, and budget planning tools.",
            "featureList": [
              "Subscription tracking and management",
              "Smart payment reminders",
              "Expense analytics and insights",
              "Budget planning tools",
              "Subscription renewal alerts",
              "Money-saving recommendations",
              "Spending pattern analysis",
              "Bill payment tracking",
              "Subscription cancellation assistance"
            ],
            "screenshot": {
              "@type": "ImageObject",
              "url": "https://chrima.app/images/home-page.png"
            },
            "downloadUrl": {
              "ios": "https://apps.apple.com/app/YOUR_APP_STORE_ID",
              "android": "https://play.google.com/store/apps/details?id=YOUR_PLAY_STORE_ID"
            }
          },
          {
            "@type": "FAQPage",
            "mainEntity": [
              {
                "@type": "Question",
                "name": "How does Chrima help me save money on subscriptions?",
                "acceptedAnswer": {
                  "@type": "Answer",
                  "text": "Chrima tracks all your subscriptions and sends smart reminders before renewals, helping you identify unused subscriptions and avoid unexpected charges. Our analytics show spending patterns so you can make informed decisions about which subscriptions to keep or cancel."
                }
              },
              {
                "@type": "Question",
                "name": "Is Chrima free to use?",
                "acceptedAnswer": {
                  "@type": "Answer",
                  "text": "Yes, Chrima is completely free to download and use. We offer core subscription tracking, expense management, and smart reminders at no cost."
                }
              },
              {
                "@type": "Question",
                "name": "What types of subscriptions can I track with Chrima?",
                "acceptedAnswer": {
                  "@type": "Answer",
                  "text": "You can track any recurring payment including streaming services (Netflix, Spotify), software subscriptions (Adobe, Microsoft), gym memberships, insurance payments, utility bills, and any other monthly or yearly recurring expenses."
                }
              },
              {
                "@type": "Question",
                "name": "Can I set custom reminder notifications?",
                "acceptedAnswer": {
                  "@type": "Answer",
                  "text": "Absolutely! Chrima allows you to customize notification timing for each subscription. Set reminders 1 day, 3 days, 1 week, or any custom timeframe before your subscription renews."
                }
              }
            ]
          },
          {
            "@type": "Product",
            "name": "Chrima App",
            "description": "Smart subscription and expense tracking app that helps you manage recurring payments and save money.",
            "brand": {
              "@type": "Brand",
              "name": "Chrima"
            },
            "aggregateRating": {
              "@type": "AggregateRating",
              "ratingValue": "4.8",
              "reviewCount": "1247",
              "bestRating": "5",
              "worstRating": "1"
            },
            "review": [
              {
                "@type": "Review",
                "reviewRating": {
                  "@type": "Rating",
                  "ratingValue": "5",
                  "bestRating": "5"
                },
                "author": {
                  "@type": "Person",
                  "name": "Sarah M."
                },
                "reviewBody": "Finally found an app that helps me keep track of all my subscriptions! Saved me over $200 last month by finding subscriptions I forgot about. The interface is clean and the reminders are perfect."
              },
              {
                "@type": "Review",
                "reviewRating": {
                  "@type": "Rating",
                  "ratingValue": "5",
                  "bestRating": "5"
                },
                "author": {
                  "@type": "Person",
                  "name": "Mike T."
                },
                "reviewBody": "Love the analytics feature. Being able to see my spending patterns helps me make better financial decisions. The app is intuitive and the notifications work perfectly."
              },
              {
                "@type": "Review",
                "reviewRating": {
                  "@type": "Rating",
                  "ratingValue": "4",
                  "bestRating": "5"
                },
                "author": {
                  "@type": "Person",
                  "name": "Jennifer L."
                },
                "reviewBody": "Great app for subscription management. The reminder system is exactly what I needed. Would love to see more export options in future updates."
              }
            ]
          },
          {
            "@type": "BreadcrumbList",
            "itemListElement": [
              {
                "@type": "ListItem",
                "position": 1,
                "name": "Home",
                "item": "https://chrima.app"
              }
            ]
          }
        ]
      }
    </script>
    <Analytics />
  </head>
  <body>
    <Header />
    <main class="pt-[72px]">
      <slot />
    </main>
    <Footer />
  </body>
</html>
